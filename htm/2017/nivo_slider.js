(function(c){var w=function(q,x){var g=c.extend({},c.fn.nivoSlider.defaults,x),d={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1},e=c(q);e.data("nivo:vars",d);e.css("position","relative");e.addClass("nivoSlider");var m=e.children();m.each(function(){var b=c(this),n="";b.is("img")||(b.is("a")&&(b.addClass("nivo-imageLink"),n=b),b=b.find("img:first"));var f=b.width();0==f&&(f=b.attr("width"));var h=b.height();0==h&&(h=b.attr("height"));f>e.width()&&e.width(f);h>e.height()&&
e.height(h);""!=n&&n.css("display","none");b.css("display","none");d.totalSlides++});g.randomStart&&(g.startSlide=Math.floor(Math.random()*d.totalSlides));0<g.startSlide&&(g.startSlide>=d.totalSlides&&(g.startSlide=d.totalSlides-1),d.currentSlide=g.startSlide);c(m[d.currentSlide]).is("img")?d.currentImage=c(m[d.currentSlide]):d.currentImage=c(m[d.currentSlide]).find("img:first");c(m[d.currentSlide]).is("a")&&c(m[d.currentSlide]).css("display","block");e.css("background",'url("'+d.currentImage.attr("src")+
'") no-repeat');e.append(c('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:g.captionOpacity}));c(".nivo-caption",e).css("opacity",0);var y=function(b){var n=c(".nivo-caption",e);if(""!=d.currentImage.attr("title")&&void 0!=d.currentImage.attr("title")){var f=d.currentImage.attr("title");"#"==f.substr(0,1)&&(f=c(f).html());0!=n.css("opacity")?n.find("p").stop().fadeTo(b.animSpeed,0,function(){c(this).html(f);c(this).stop().fadeTo(b.animSpeed,1)}):n.find("p").html(f);n.stop().fadeTo(b.animSpeed,
b.captionOpacity)}else n.stop().fadeTo(b.animSpeed,0)};y(g);var l=0;!g.manualAdvance&&1<m.length&&(l=setInterval(function(){p(e,m,g,!1)},g.pauseTime));g.directionNav&&(e.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+g.prevText+'</a><a class="nivo-nextNav">'+g.nextText+"</a></div>"),g.directionNavHide&&(c(".nivo-directionNav",e).hide(),e.hover(function(){c(".nivo-directionNav",e).show()},function(){c(".nivo-directionNav",e).hide()})),c("a.nivo-prevNav",e).live("click",function(){if(d.running)return!1;
clearInterval(l);l="";d.currentSlide-=2;p(e,m,g,"prev")}),c("a.nivo-nextNav",e).live("click",function(){if(d.running)return!1;clearInterval(l);l="";p(e,m,g,"next")}));if(g.controlNav){var v=c('<div class="nivo-controlNav"></div>');e.append(v);for(var r=0;r<m.length;r++)if(g.controlNavThumbs){var u=m.eq(r);u.is("img")||(u=u.find("img:first"));g.controlNavThumbsFromRel?v.append('<a class="nivo-control" rel="'+r+'"><img src="'+u.attr("rel")+'" alt="" /></a>'):v.append('<a class="nivo-control" rel="'+
r+'"><img src="'+u.attr("src").replace(g.controlNavThumbsSearch,g.controlNavThumbsReplace)+'" alt="" /></a>')}else v.append('<a class="nivo-control" rel="'+r+'">'+(r+1)+"</a>");c(".nivo-controlNav a:eq("+d.currentSlide+")",e).addClass("active");c(".nivo-controlNav a",e).live("click",function(){if(d.running||c(this).hasClass("active"))return!1;clearInterval(l);l="";e.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');d.currentSlide=c(this).attr("rel")-1;p(e,m,g,"control")})}g.keyboardNav&&
c(window).keypress(function(b){if("37"==b.keyCode){if(d.running)return!1;clearInterval(l);l="";d.currentSlide-=2;p(e,m,g,"prev")}if("39"==b.keyCode){if(d.running)return!1;clearInterval(l);l="";p(e,m,g,"next")}});g.pauseOnHover&&e.hover(function(){d.paused=!0;clearInterval(l);l=""},function(){d.paused=!1;""!=l||g.manualAdvance||(l=setInterval(function(){p(e,m,g,!1)},g.pauseTime))});e.bind("nivo:animFinished",function(){d.running=!1;c(m).each(function(){c(this).is("a")&&c(this).css("display","none")});
c(m[d.currentSlide]).is("a")&&c(m[d.currentSlide]).css("display","block");""!=l||d.paused||g.manualAdvance||(l=setInterval(function(){p(e,m,g,!1)},g.pauseTime));g.afterChange.call(this)});var t=function(b,d,f){for(var h=0;h<d.slices;h++){var a=Math.round(b.width()/d.slices);h==d.slices-1?b.append(c('<div class="nivo-slice"></div>').css({left:a*h+"px",width:b.width()-a*h+"px",height:"0px",opacity:"0",background:'url("'+f.currentImage.attr("src")+'") no-repeat -'+(a+h*a-a)+"px 0%"})):b.append(c('<div class="nivo-slice"></div>').css({left:a*
h+"px",width:a+"px",height:"0px",opacity:"0",background:'url("'+f.currentImage.attr("src")+'") no-repeat -'+(a+h*a-a)+"px 0%"}))}},z=function(b,d,f){for(var h=Math.round(b.width()/d.boxCols),a=Math.round(b.height()/d.boxRows),k=0;k<d.boxRows;k++)for(var g=0;g<d.boxCols;g++)g==d.boxCols-1?b.append(c('<div class="nivo-box"></div>').css({opacity:0,left:h*g+"px",top:a*k+"px",width:b.width()-h*g+"px",height:a+"px",background:'url("'+f.currentImage.attr("src")+'") no-repeat -'+(h+g*h-h)+"px -"+(a+k*a-a)+
"px"})):b.append(c('<div class="nivo-box"></div>').css({opacity:0,left:h*g+"px",top:a*k+"px",width:h+"px",height:a+"px",background:'url("'+f.currentImage.attr("src")+'") no-repeat -'+(h+g*h-h)+"px -"+(a+k*a-a)+"px"}))},p=function(b,d,f,g){var a=b.data("nivo:vars");a&&a.currentSlide==a.totalSlides-1&&f.lastSlide.call(this);if((!a||a.stop)&&!g)return!1;f.beforeChange.call(this);g?("prev"==g&&b.css("background",'url("'+a.currentImage.attr("src")+'") no-repeat'),"next"==g&&b.css("background",'url("'+
a.currentImage.attr("src")+'") no-repeat')):b.css("background",'url("'+a.currentImage.attr("src")+'") no-repeat');a.currentSlide++;a.currentSlide==a.totalSlides&&(a.currentSlide=0,f.slideshowEnd.call(this));0>a.currentSlide&&(a.currentSlide=a.totalSlides-1);c(d[a.currentSlide]).is("img")?a.currentImage=c(d[a.currentSlide]):a.currentImage=c(d[a.currentSlide]).find("img:first");f.controlNav&&(c(".nivo-controlNav a",b).removeClass("active"),c(".nivo-controlNav a:eq("+a.currentSlide+")",b).addClass("active"));
y(f);c(".nivo-slice",b).remove();c(".nivo-box",b).remove();var k=f.effect;"random"==f.effect&&(d="fade fade fade fade fade fade fade fade fade fade fade fade fade".split(" "),k=d[Math.floor(Math.random()*(d.length+1))],void 0==k&&(k="fade"));-1!=f.effect.indexOf(",")&&(d=f.effect.split(","),k=d[Math.floor(Math.random()*d.length)],void 0==k&&(k="fade"));a.currentImage.attr("data-transition")&&(k=a.currentImage.attr("data-transition"));a.running=!0;if("sliceDown"==k||"sliceDownRight"==k||"sliceDownLeft"==
k){t(b,f,a);var e=0,h=0,a=c(".nivo-slice",b);"sliceDownLeft"==k&&(a=c(".nivo-slice",b)._reverse());a.each(function(){var a=c(this);a.css({top:"0px"});h==f.slices-1?setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+e):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed)},100+e);e+=50;h++})}else if("sliceUp"==k||"sliceUpRight"==k||"sliceUpLeft"==k)t(b,f,a),h=e=0,a=c(".nivo-slice",b),"sliceUpLeft"==k&&(a=
c(".nivo-slice",b)._reverse()),a.each(function(){var a=c(this);a.css({bottom:"0px"});h==f.slices-1?setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+e):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed)},100+e);e+=50;h++});else if("sliceUpDown"==k||"sliceUpDownRight"==k||"sliceUpDownLeft"==k){t(b,f,a);var m=h=e=0,a=c(".nivo-slice",b);"sliceUpDownLeft"==k&&(a=c(".nivo-slice",b)._reverse());a.each(function(){var a=
c(this);0==h?(a.css("top","0px"),h++):(a.css("bottom","0px"),h=0);m==f.slices-1?setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+e):setTimeout(function(){a.animate({height:"100%",opacity:"1.0"},f.animSpeed)},100+e);e+=50;m++})}else if("fold"==k)t(b,f,a),h=e=0,c(".nivo-slice",b).each(function(){var a=c(this),d=a.width();a.css({top:"0px",height:"100%",width:"0px"});h==f.slices-1?setTimeout(function(){a.animate({width:d,opacity:"1.0"},
f.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+e):setTimeout(function(){a.animate({width:d,opacity:"1.0"},f.animSpeed)},100+e);e+=50;h++});else if("fade"==k){t(b,f,a);var l=c(".nivo-slice:first",b);l.css({height:"100%",width:b.width()+"px"});l.animate({opacity:"1.0"},2*f.animSpeed,"",function(){b.trigger("nivo:animFinished")})}else if("slideInRight"==k)t(b,f,a),l=c(".nivo-slice:first",b),l.css({height:"100%",width:"0px",opacity:"1"}),l.animate({width:b.width()+"px"},2*f.animSpeed,
"",function(){b.trigger("nivo:animFinished")});else if("slideInLeft"==k)t(b,f,a),l=c(".nivo-slice:first",b),l.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),l.animate({width:b.width()+"px"},2*f.animSpeed,"",function(){l.css({left:"0px",right:""});b.trigger("nivo:animFinished")});else if("boxRandom"==k){z(b,f,a);var n=f.boxCols*f.boxRows,e=h=0,a=w(c(".nivo-box",b));a.each(function(){var a=c(this);h==n-1?setTimeout(function(){a.animate({opacity:"1"},f.animSpeed,"",function(){b.trigger("nivo:animFinished")})},
100+e):setTimeout(function(){a.animate({opacity:"1"},f.animSpeed)},100+e);e+=20;h++})}else if("boxRain"==k||"boxRainReverse"==k||"boxRainGrow"==k||"boxRainGrowReverse"==k){z(b,f,a);var n=f.boxCols*f.boxRows,p=e=h=0,q=0,r=[];r[p]=[];a=c(".nivo-box",b);if("boxRainReverse"==k||"boxRainGrowReverse"==k)a=c(".nivo-box",b)._reverse();a.each(function(){r[p][q]=c(this);q++;q==f.boxCols&&(p++,q=0,r[p]=[])});for(a=0;a<2*f.boxCols;a++){d=a;for(g=0;g<f.boxRows;g++)0<=d&&d<f.boxCols&&(function(a,d,e,g,h){var l=
c(r[a][d]),m=l.width(),n=l.height();"boxRainGrow"!=k&&"boxRainGrowReverse"!=k||l.width(0).height(0);g==h-1?setTimeout(function(){l.animate({opacity:"1",width:m,height:n},f.animSpeed/1.3,"",function(){b.trigger("nivo:animFinished")})},100+e):setTimeout(function(){l.animate({opacity:"1",width:m,height:n},f.animSpeed/1.3)},100+e)}(g,d,e,h,n),h++),d--;e+=100}}},w=function(b){for(var c,d,e=b.length;e;c=parseInt(Math.random()*e),d=b[--e],b[e]=b[c],b[c]=d);return b},A=function(b){this.console&&"undefined"!=
typeof console.log&&console.log(b)};this.stop=function(){c(q).data("nivo:vars").stop||(c(q).data("nivo:vars").stop=!0,A("Stop Slider"))};this.start=function(){c(q).data("nivo:vars").stop&&(c(q).data("nivo:vars").stop=!1,A("Start Slider"))};g.afterLoad.call(this);return this};c.fn.nivoSlider=function(q){return this.each(function(x,g){var d=c(this);if(d.data("nivoslider"))return d.data("nivoslider");var e=new w(this,q);d.data("nivoslider",e)})};c.fn.nivoSlider.defaults={effect:"fold",slices:15,boxCols:8,
boxRows:4,animSpeed:400,pauseTime:6000,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};c.fn._reverse=[].reverse})(jQuery);